<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Previous Data - Concussion Management</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif, sans-serif;
            background-color: #002664;
            color: white;
            margin: 0;
            padding: 10px;
            font-size: 12px;
        }

        .container {
            max-width: 100%;
            margin: 0;
            text-align: left;
        }

        .logo-container {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-container img {
            max-width: 200px;
            max-height: 200px;
            object-fit: contain;
        }

        h1 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        h2 {
            font-size: 14px;
            text-decoration: underline;
            margin-top: 10px;
            margin-bottom: 5px;
        }

        .data-row {
            margin-bottom: 2px;
        }

        .label {
            display: inline-block;
            width: 250px;
            vertical-align: top;
        }

        .value {
            display: inline-block;
            vertical-align: top;
        }

        .button {
            display: inline-block;
            padding: 5px 10px;
            background-color: white;
            color: #002664;
            text-decoration: none;
            border-radius: 3px;
            margin-top: 10px;
            font-size: 12px;
        }

        .additional-data {
            margin-top: 20px;
            border-top: 1px solid white;
            padding-top: 10px;
        }

        .concussion-entry {
            margin-bottom: 20px;
            border-bottom: 1px solid white;
            padding-bottom: 10px;
        }

        #scrollToTopBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            font-size: 18px;
            border: none;
            outline: none;
            background-color: white;
            color: #002664;
            cursor: pointer;
            padding: 15px;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: none;
            justify-content: center;
            align-items: center;
        }

        #scrollToTopBtn:hover {
            background-color: #ddd;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="logo-container">
            <img src="kentk.jpg" alt="Kent State Stark Football Logo">
        </div>

        <h1>Previous Data - Concussion Management</h1>

        <div class="concussion-entry">
            <h2>Impact Data</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00001</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000009</span></div>
            <div class="data-row"><span class="label">Location on field (yard line):</span><span class="value">26 yard
                    line</span></div>
            <div class="data-row"><span class="label">Type of play:</span><span class="value">Tackle</span></div>
            <div class="data-row"><span class="label">Force of impact (if measurable):</span><span class="value">70 g's
                    (force of impact)</span></div>
            <div class="data-row"><span class="label">Part of body/head impacted:</span><span class="value">Frontal
                    bone</span></div>
            <div class="data-row"><span class="label">Helmet data (type, fit, condition):</span><span
                    class="value">Riddell Axiom 3D, Large, New</span></div>

            <h2>Concussion Incident</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00001</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000009</span></div>
            <div class="data-row"><span class="label">Date and time of incident:</span><span class="value">10/02/23 7:37
                    pm</span></div>
            <div class="data-row"><span class="label">Immediate symptoms observed:</span><span class="value">Confusion,
                    disoriented, irritability</span></div>
            <div class="data-row"><span class="label">Sideline assessment results:</span><span class="value">Poorly
                    cognitive</span></div>
            <div class="data-row"><span class="label">Diagnosis:</span><span class="value">Concussion confirmed</span>
            </div>

            <h2>Medical Assessments</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00001</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000009</span></div>
            <div class="data-row"><span class="label">Type of assessment:</span><span class="value">Cognitive</span>
            </div>
            <div class="data-row"><span class="label">Date performed:</span><span class="value">10/03/23</span></div>
            <div class="data-row"><span class="label">Results:</span><span class="value">Out for 2-3 weeks</span></div>
            <div class="data-row"><span class="label">Comparison to baseline tests:</span><span
                    class="value">Below</span></div>

            <h2>Recovery and Return-to-Play</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00001</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000009</span></div>
            <div class="data-row"><span class="label">Prescribed rest period:</span><span class="value">2-3 weeks</span>
            </div>
            <div class="data-row"><span class="label">Gradual return-to-play protocol stages:</span><span
                    class="value">Back to regular activities, light aerobic, moderate activity, heavy non-contact
                    exercise, practice full contact, competition</span></div>
            <div class="data-row"><span class="label">Clearance dates for each stage:</span><span class="value">10/04,
                    10/06, 10/08, 10/09, 10/11, 10/12</span></div>
            <div class="data-row"><span class="label">Final medical clearance date:</span><span
                    class="value">10/19/23</span></div>
        </div>

        <div class="concussion-entry">
            <h2>Impact Data</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00002</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000015</span></div>
            <div class="data-row"><span class="label">Location on field (yard line):</span><span class="value">42 yard
                    line</span></div>
            <div class="data-row"><span class="label">Type of play:</span><span class="value">Block</span></div>
            <div class="data-row"><span class="label">Force of impact (if measurable):</span><span class="value">65 g's
                    (force of impact)</span></div>
            <div class="data-row"><span class="label">Part of body/head impacted:</span><span class="value">Temporal
                    bone</span></div>
            <div class="data-row"><span class="label">Helmet data (type, fit, condition):</span><span
                    class="value">Schutt F7 VTD, Medium, Good condition</span></div>

            <h2>Concussion Incident</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00002</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000015</span></div>
            <div class="data-row"><span class="label">Date and time of incident:</span><span class="value">10/09/23 3:15
                    pm</span></div>
            <div class="data-row"><span class="label">Immediate symptoms observed:</span><span class="value">Dizziness,
                    headache, nausea</span></div>
            <div class="data-row"><span class="label">Sideline assessment results:</span><span class="value">Balance
                    issues, memory deficit</span></div>
            <div class="data-row"><span class="label">Diagnosis:</span><span class="value">Concussion suspected</span>
            </div>

            <h2>Medical Assessments</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00002</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000015</span></div>
            <div class="data-row"><span class="label">Type of assessment:</span><span class="value">Neurological</span>
            </div>
            <div class="data-row"><span class="label">Date performed:</span><span class="value">10/10/23</span></div>
            <div class="data-row"><span class="label">Results:</span><span class="value">Mild concussion
                    confirmed</span></div>
            <div class="data-row"><span class="label">Comparison to baseline tests:</span><span class="value">Slightly
                    below</span></div>

            <h2>Recovery and Return-to-Play</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00002</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000015</span></div>
            <div class="data-row"><span class="label">Prescribed rest period:</span><span class="value">1-2 weeks</span>
            </div>
            <div class="data-row"><span class="label">Gradual return-to-play protocol stages:</span><span
                    class="value">Rest, light aerobic exercise, sport-specific training, non-contact drills,
                    full-contact practice, return to play</span></div>
            <div class="data-row"><span class="label">Clearance dates for each stage:</span><span class="value">10/11,
                    10/13, 10/15, 10/17, 10/19, 10/21</span></div>
            <div class="data-row"><span class="label">Final medical clearance date:</span><span
                    class="value">10/21/23</span></div>
        </div>

        <div class="concussion-entry">
            <h2>Impact Data</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00003</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000023</span></div>
            <div class="data-row"><span class="label">Location on field (yard line):</span><span class="value">15 yard
                    line</span></div>
            <div class="data-row"><span class="label">Type of play:</span><span class="value">Collision</span></div>
            <div class="data-row"><span class="label">Force of impact (if measurable):</span><span class="value">80 g's
                    (force of impact)</span></div>
            <div class="data-row"><span class="label">Part of body/head impacted:</span><span class="value">Occipital
                    bone</span></div>
            <div class="data-row"><span class="label">Helmet data (type, fit, condition):</span><span
                    class="value">Xenith Shadow XR, Large, Excellent condition</span></div>

            <h2>Concussion Incident</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00003</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000023</span></div>
            <div class="data-row"><span class="label">Date and time of incident:</span><span class="value">10/15/23 1:45
                    pm</span></div>
            <div class="data-row"><span class="label">Immediate symptoms observed:</span><span class="value">Loss of
                    consciousness (brief), confusion</span></div>
            <div class="data-row"><span class="label">Sideline assessment results:</span><span class="value">Severe
                    cognitive impairment</span></div>
            <div class="data-row"><span class="label">Diagnosis:</span><span class="value">Severe concussion
                    confirmed</span></div>

            <h2>Medical Assessments</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00003</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000023</span></div>
            <div class="data-row"><span class="label">Type of assessment:</span><span class="value">Comprehensive</span>
            </div>
            <div class="data-row"><span class="label">Date performed:</span><span class="value">10/16/23</span></div>
            <div class="data-row"><span class="label">Results:</span><span class="value">Extended recovery needed</span>
            </div>
            <div class="data-row"><span class="label">Comparison to baseline tests:</span><span
                    class="value">Significantly below</span></div>

            <h2>Recovery and Return-to-Play</h2>
            <div class="data-row"><span class="label">Concussion ID:</span><span class="value">00003</span></div>
            <div class="data-row"><span class="label">Player ID:</span><span class="value">000023</span></div>
            <div class="data-row"><span class="label">Prescribed rest period:</span><span class="value">4-6 weeks</span>
            </div>
            <div class="data-row"><span class="label">Gradual return-to-play protocol stages:</span><span
                    class="value">Complete rest, light cognitive activities, gradual return to school/work, light
                    aerobic exercise, sport-specific exercise, non-contact training drills, full-contact practice,
                    return to competition</span></div>
            <div class="data-row"><span class="label">Clearance dates for each stage:</span><span class="value">10/16,
                    10/23, 10/30, 11/06, 11/13, 11/20, 11/27, 12/04</span></div>
            <div class="data-row"><span class="label">Final medical clearance date:</span><span
                    class="value">12/04/23</span></div>
        </div>

        <div class="additional-data">
            <h2>New Local Data</h2>
            <div id="localDataContainer">
                <!-- New local data will be loaded here -->
            </div>

            <h2>New Server Data</h2>
            <div id="dataContainer">
                <!-- New server-side data will be loaded here -->
            </div>
        </div>

        <div class="button-container">
            <a href="index.html" class="button">Back to Home</a>
            <a href="new-data.html" class="button">Add New Data</a>
        </div>
    </div>

    <button id="scrollToTopBtn" title="Go to top">â†‘</button>

    <script>
        // Function to load and display server-side data
        function loadServerData() {
            fetch('load-data.php')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('dataContainer').innerHTML = data;
                })
                .catch(error => {
                    console.error('Error loading server data:', error);
                    document.getElementById('dataContainer').innerHTML = '<p>Error loading server data. Please try again later.</p>';
                });
        }

        // Function to load and display local data
        function loadLocalData() {
            const localDataContainer = document.getElementById('localDataContainer');
            const concussionData = JSON.parse(localStorage.getItem('concussionData')) || [];

            console.log('Retrieved concussionData:', concussionData); // Debugging log

            if (concussionData.length === 0) {
                localDataContainer.innerHTML = '<p>No new local data available.</p>';
                return;
            }

            localDataContainer.innerHTML = ''; // Clear existing content
            concussionData.forEach((data, index) => {
                let entryHtml = `<div class='concussion-entry'>
                <h2>Impact Data</h2>
                <div class="data-row"><span class="label">Concussion ID:</span><span class="value">${data.concussionId || ''}</span></div>
                <div class="data-row"><span class="label">Player ID:</span><span class="value">${data.playerID || ''}</span></div>
                <div class="data-row"><span class="label">Location on field (yard line):</span><span class="value">${data.location || ''}</span></div>
                <div class="data-row"><span class="label">Type of play:</span><span class="value">${data.typeOfPlay || ''}</span></div>
                <div class="data-row"><span class="label">Force of impact (if measurable):</span><span class="value">${data.forceOfImpact || ''}</span></div>
                <div class="data-row"><span class="label">Part of body/head impacted:</span><span class="value">${data.bodyPartImpacted || ''}</span></div>
                <div class="data-row"><span class="label">Helmet data (type, fit, condition):</span><span class="value">${data.helmetData || ''}</span></div>
    
                <h2>Concussion Incident</h2>
               <div class="data-row"><span class="label">Concussion ID:</span><span class="value">${data.concussionId || ''}</span></div>
                <div class="data-row"><span class="label">Player ID:</span><span class="value">${data.playerID || ''}</span></div>
                <div class="data-row"><span class="label">Player affected:</span><span class="value">${data.playerInvolved || ''}</span></div>
                <div class="data-row"><span class="label">Date and time of incident:</span><span class="value">${data.dateTime || ''}</span></div>
                <div class="data-row"><span class="label">Immediate symptoms observed:</span><span class="value">${data.symptoms || ''}</span></div>
                <div class="data-row"><span class="label">Sideline assessment results:</span><span class="value">${data.sidelineAssessment || ''}</span></div>
                <div class="data-row"><span class="label">Diagnosis:</span><span class="value">${data.diagnosis || ''}</span></div>
    
                <h2>Medical Assessments</h2>
               <div class="data-row"><span class="label">Concussion ID:</span><span class="value">${data.concussionId || ''}</span></div>
                <div class="data-row"><span class="label">Player ID:</span><span class="value">${data.playerID || ''}</span></div>
                <div class="data-row"><span class="label">Type of assessment:</span><span class="value">${data.assessmentType || ''}</span></div>
                <div class="data-row"><span class="label">Date performed:</span><span class="value">${data.assessmentDate || ''}</span></div>
                <div class="data-row"><span class="label">Results:</span><span class="value">${data.assessmentResults || ''}</span></div>
                <div class="data-row"><span class="label">Comparison to baseline tests:</span><span class="value">${data.baselineComparison || ''}</span></div>
    
                <h2>Recovery and Return-to-Play</h2>
               <div class="data-row"><span class="label">Concussion ID:</span><span class="value">${data.concussionId || ''}</span></div>
                <div class="data-row"><span class="label">Player ID:</span><span class="value">${data.playerID || ''}</span></div>
                <div class="data-row"><span class="label">Prescribed rest period:</span><span class="value">${data.restPeriod || ''}</span></div>
                <div class="data-row"><span class="label">Gradual return-to-play protocol stages:</span><span class="value">${data.protocolStages || ''}</span></div>
                <div class="data-row"><span class="label">Clearance dates for each stage:</span><span class="value">${data.clearanceDates || ''}</span></div>
                <div class="data-row"><span class="label">Final medical clearance date:</span><span class="value">${data.finalClearanceDate || ''}</span></div>
            </div>`;
                localDataContainer.innerHTML += entryHtml;
            });

            console.log('Local data loaded and displayed'); // Debugging log
        }

        // Scroll to top functionality
        function setupScrollToTop() {
            var scrollToTopBtn = document.getElementById("scrollToTopBtn");

            window.onscroll = function () {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    scrollToTopBtn.style.display = "flex";
                } else {
                    scrollToTopBtn.style.display = "none";
                }
            };

            scrollToTopBtn.onclick = function () {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            };
        }

        // Function to initialize the page
        function initPage() {
            loadServerData();
            loadLocalData();
            setupScrollToTop();
        }

        // Call initPage when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', initPage);
    </script>